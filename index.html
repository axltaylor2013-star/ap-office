<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AP Technologies ‚Äî Command Center</title>
<style>
*{margin:0;padding:0;box-sizing:border-box}
:root{--bg:#0b0e14;--bg2:#131720;--bg3:#1a1f2e;--bg4:#252b3b;--text:#e8ecf1;--text2:#8892a4;--text3:#505a6e;--accent:#3b82f6;--gold:#d4a843;--green:#22c55e;--green-dim:rgba(34,197,94,.12);--red:#ef4444;--red-dim:rgba(239,68,68,.12);--amber:#f59e0b;--amber-dim:rgba(245,158,11,.12);--purple:#a855f7;--purple-dim:rgba(168,85,247,.12);--radius:10px}
body{font-family:'Segoe UI',system-ui,sans-serif;background:var(--bg);color:var(--text);min-height:100vh}

.topbar{background:linear-gradient(135deg,#0f1318,#161b25);border-bottom:2px solid var(--gold);padding:18px 28px;display:flex;align-items:center;justify-content:space-between}
.topbar h1{font-size:1.2rem;font-weight:700;display:flex;align-items:center;gap:10px}
.topbar h1 span{color:var(--gold)}
.topbar-right{display:flex;align-items:center;gap:20px;font-size:.8rem;color:var(--text2)}
.live-dot{width:8px;height:8px;border-radius:50%;background:var(--green);animation:pulse 2s infinite;display:inline-block;margin-right:6px}
@keyframes pulse{0%,100%{opacity:1}50%{opacity:.4}}
.clock{font-variant-numeric:tabular-nums;font-weight:600;color:var(--text)}

.main{padding:24px 28px;max-width:1400px;margin:0 auto}

.summary-bar{display:grid;grid-template-columns:repeat(5,1fr);gap:16px;margin-bottom:24px}
.summary-card{background:var(--bg2);border:1px solid var(--bg4);border-radius:var(--radius);padding:16px 20px;text-align:center}
.summary-card .num{font-size:1.5rem;font-weight:800;margin-bottom:2px}
.summary-card .lbl{font-size:.65rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--text3)}

.station-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:20px;margin-bottom:28px}
.station{background:var(--bg2);border:1px solid var(--bg4);border-radius:var(--radius);overflow:hidden;transition:border-color .3s,box-shadow .3s}
.station:hover{border-color:var(--gold);box-shadow:0 0 20px rgba(212,168,67,.08)}
.station-header{padding:16px 20px 12px;display:flex;align-items:center;justify-content:space-between;border-bottom:1px solid var(--bg4)}
.station-id{display:flex;align-items:center;gap:10px}
.station-avatar{width:42px;height:42px;border-radius:10px;display:flex;align-items:center;justify-content:center;font-size:1.4rem}
.station-name{font-weight:700;font-size:.95rem}
.station-role{font-size:.68rem;color:var(--text2)}
.badge{font-size:.68rem;font-weight:600;padding:4px 12px;border-radius:20px}
.badge-on{background:var(--green-dim);color:var(--green)}
.badge-idle{background:var(--amber-dim);color:var(--amber)}
.badge-off{background:var(--red-dim);color:var(--red)}

.station-body{padding:16px 20px}
.task-box{background:var(--bg3);border-radius:8px;padding:12px 14px;margin-bottom:14px}
.task-label{font-size:.6rem;text-transform:uppercase;letter-spacing:1.5px;color:var(--text3);margin-bottom:4px}
.task-text{font-size:.82rem;font-weight:500}
.task-idle{color:var(--text3);font-style:italic}

.stats{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.mini{background:var(--bg3);border-radius:8px;padding:10px 12px}
.mini .l{font-size:.58rem;text-transform:uppercase;letter-spacing:1px;color:var(--text3);margin-bottom:2px}
.mini .v{font-size:.88rem;font-weight:700}

.station-foot{padding:10px 20px;border-top:1px solid var(--bg4);display:flex;justify-content:space-between;font-size:.68rem;color:var(--text3)}

.log-section{background:var(--bg2);border:1px solid var(--bg4);border-radius:var(--radius);overflow:hidden}
.log-header{padding:16px 20px;border-bottom:1px solid var(--bg4);display:flex;align-items:center;justify-content:space-between}
.log-header h2{font-size:.95rem;font-weight:700;display:flex;align-items:center;gap:8px}
.log-filters{display:flex;gap:6px}
.fbtn{background:var(--bg3);border:1px solid var(--bg4);color:var(--text2);font-size:.68rem;padding:4px 12px;border-radius:16px;cursor:pointer;transition:all .2s}
.fbtn:hover,.fbtn.active{background:var(--gold);color:#000;border-color:var(--gold)}
.log-body{max-height:400px;overflow-y:auto;scrollbar-width:thin;scrollbar-color:var(--bg4) transparent}
.log-entry{padding:14px 20px;border-bottom:1px solid rgba(255,255,255,.03);display:flex;gap:14px;transition:background .2s}
.log-entry:hover{background:rgba(255,255,255,.02)}
.log-icon{width:36px;height:36px;border-radius:8px;display:flex;align-items:center;justify-content:center;font-size:1.1rem;flex-shrink:0}
.log-content{flex:1}
.log-title{font-size:.83rem;font-weight:600;margin-bottom:2px}
.log-desc{font-size:.76rem;color:var(--text2);line-height:1.5}
.log-meta{font-size:.63rem;color:var(--text3);margin-top:4px;display:flex;gap:12px}
.log-empty{padding:40px 20px;text-align:center;color:var(--text3);font-size:.85rem}

@media(max-width:1000px){.station-grid{grid-template-columns:1fr}.summary-bar{grid-template-columns:repeat(3,1fr)}}
@media(max-width:600px){.summary-bar{grid-template-columns:1fr 1fr}}
</style>
</head>
<body>

<div class="topbar">
  <h1>‚ö° <span>AP Technologies</span> ‚Äî Command Center</h1>
  <div class="topbar-right">
    <a href="office.html" style="background:#1a1f2e;border:1px solid #252b3b;color:#d4a843;padding:6px 16px;border-radius:8px;font-size:.75rem;font-weight:600;cursor:pointer;text-decoration:none">üè¢ The Office</a>
    <div><span class="live-dot"></span>System Active</div>
    <div class="clock" id="clock">--:--:--</div>
  </div>
</div>

<div class="main">

<div class="summary-bar">
  <div class="summary-card"><div class="num" style="color:var(--green)">3</div><div class="lbl">Total Agents</div></div>
  <div class="summary-card"><div class="num" style="color:var(--gold)" id="sumOnline">1</div><div class="lbl">Online Now</div></div>
  <div class="summary-card"><div class="num" style="color:var(--purple)" id="sumSkills">0</div><div class="lbl">Skills Logged</div></div>
  <div class="summary-card"><div class="num" style="color:var(--green)">$0</div><div class="lbl">Local Model Cost</div></div>
  <div class="summary-card"><div class="num" style="color:var(--amber)" id="sumDays">1</div><div class="lbl">Days Active</div></div>
</div>

<div class="station-grid" id="stationGrid"></div>

<div class="log-section">
  <div class="log-header">
    <h2>üß† Training & Skills Log</h2>
    <div class="log-filters">
      <button class="fbtn active" onclick="filterLog('all',this)">All</button>
      <button class="fbtn" onclick="filterLog('jarvis',this)">ü§ñ Jarvis</button>
      <button class="fbtn" onclick="filterLog('mule',this)">ü´è Mule</button>
      <button class="fbtn" onclick="filterLog('forge',this)">üî® Forge</button>
    </div>
  </div>
  <div class="log-body" id="logBody">
    <div class="log-empty">üì° Training log initialized. First entries drop with the morning report.<br><span style="font-size:.75rem;margin-top:8px;display:block">Daily reports at 8:00 AM ET ¬∑ Jarvis trains Mule & Forge</span></div>
  </div>
</div>

</div>

<script>
// Clock
function tick(){document.getElementById('clock').textContent=new Date().toLocaleTimeString('en-US',{hour:'2-digit',minute:'2-digit',second:'2-digit'})}
setInterval(tick,1000);tick();

// Days active
const d0=new Date(2026,1,13);
document.getElementById('sumDays').textContent=Math.max(1,Math.floor((Date.now()-d0)/864e5));

// Agent data ‚Äî Jarvis updates this file directly when status changes
const agents=[
  {
    id:'jarvis',emoji:'ü§ñ',name:'Jarvis',role:'Lead AI ¬∑ The Brain',
    color:'rgba(212,168,67,.15)',borderColor:'#d4a843',
    status:'on',statusText:'‚óè Online',
    task:'Building skills, managing agents, writing cartoon scripts',
    model:'Claude Opus',cost:'API $$',costColor:'var(--amber)',
    platform:'Telegram',handle:'@howard32bot',
    extra:'Running on Windows ¬∑ Migrating to Mac Studio'
  },
  {
    id:'mule',emoji:'ü´è',name:'Mule',role:'General Worker ¬∑ The Grinder',
    color:'var(--green-dim)',borderColor:'#22c55e',
    status:'idle',statusText:'‚óè Standby',
    task:'Awaiting assignment...',taskIdle:true,
    model:'Llama 3.1 8B',cost:'$0 FREE',costColor:'var(--green)',
    platform:'Telegram',handle:'@mule32bot',
    extra:'Local ¬∑ Ollama'
  },
  {
    id:'forge',emoji:'üî®',name:'Forge',role:'Code Specialist ¬∑ The Builder',
    color:'var(--purple-dim)',borderColor:'#a855f7',
    status:'on',statusText:'‚óè Working',
    task:'Building image optimizer CLI tool (Task 1 of 9)',
    model:'Qwen2.5 7B',cost:'$0 FREE',costColor:'var(--green)',
    platform:'Telegram',handle:'@forge32bot',
    extra:'Local ¬∑ Ollama ¬∑ Always building'
  }
];

function renderStations(){
  const grid=document.getElementById('stationGrid');
  grid.innerHTML=agents.map(a=>{
    const bc=a.status==='on'?'badge-on':a.status==='idle'?'badge-idle':'badge-off';
    return `
    <div class="station">
      <div class="station-header">
        <div class="station-id">
          <div class="station-avatar" style="background:${a.color};border:1px solid ${a.borderColor}">${a.emoji}</div>
          <div><div class="station-name">${a.name}</div><div class="station-role">${a.role}</div></div>
        </div>
        <div class="badge ${bc}">${a.statusText}</div>
      </div>
      <div class="station-body">
        <div class="task-box">
          <div class="task-label">Current Task</div>
          <div class="task-text ${a.taskIdle?'task-idle':''}">${a.task}</div>
        </div>
        <div class="stats">
          <div class="mini"><div class="l">Model</div><div class="v">${a.model}</div></div>
          <div class="mini"><div class="l">Cost</div><div class="v" style="color:${a.costColor}">${a.cost}</div></div>
          <div class="mini"><div class="l">Skills</div><div class="v" id="skills-${a.id}">0</div></div>
          <div class="mini"><div class="l">Platform</div><div class="v">${a.platform}</div></div>
        </div>
      </div>
      <div class="station-foot">
        <span>${a.handle}</span>
        <span>${a.extra}</span>
      </div>
    </div>`}).join('');
}
renderStations();

// Training log
let tData=[];
let cFilter='all';
const aCols={jarvis:'rgba(212,168,67,.15)',mule:'var(--green-dim)',forge:'var(--purple-dim)'};
const aEmo={jarvis:'ü§ñ',mule:'ü´è',forge:'üî®'};
const tIco={learned:'üìö',taught:'üéì',improved:'‚¨ÜÔ∏è',experiment:'üß™',note:'üìù',skill:'‚ö°',script:'üì∫'};

function loadLog(){
  fetch('training.json?_='+Date.now()).then(r=>r.json()).then(data=>{
    tData=data;localStorage.setItem('ap_training_log',JSON.stringify(tData));renderLog();
  }).catch(()=>{
    const s=localStorage.getItem('ap_training_log');
    if(s)try{tData=JSON.parse(s)}catch(e){tData=[]}
    renderLog();
  });
}
function filterLog(f,btn){
  cFilter=f;
  document.querySelectorAll('.fbtn').forEach(b=>b.classList.remove('active'));
  if(btn)btn.classList.add('active');
  renderLog();
}
function renderLog(){
  const body=document.getElementById('logBody');
  const f=cFilter==='all'?tData:tData.filter(e=>e.agent===cFilter);
  document.getElementById('sumSkills').textContent=tData.length;
  ['jarvis','mule','forge'].forEach(a=>{
    const el=document.getElementById('skills-'+a);
    if(el)el.textContent=tData.filter(e=>e.agent===a).length;
  });
  if(!f.length){
    body.innerHTML='<div class="log-empty">üì° Training log initialized. First entries drop with the morning report.<br><span style="font-size:.75rem;margin-top:8px;display:block">Daily reports at 8:00 AM ET</span></div>';
    return;
  }
  body.innerHTML=f.map(e=>`
    <div class="log-entry">
      <div class="log-icon" style="background:${aCols[e.agent]||'var(--bg3)'}">${aEmo[e.agent]||'‚ùì'}</div>
      <div class="log-content">
        <div class="log-title">${e.title||e.summary||'Entry'}</div>
        <div class="log-desc">${e.summary||e.description||''}</div>
        <div class="log-meta">
          <span>${tIco[e.type]||'üìù'} ${e.type||'note'}</span>
          <span>${e.date||'--'}</span>
          <span>${(e.agent||'')[0]?.toUpperCase()+(e.agent||'').slice(1)}</span>
        </div>
      </div>
    </div>`).join('');
}

window.APTraining={
  add(e){tData.unshift(e);localStorage.setItem('ap_training_log',JSON.stringify(tData));renderLog()},
  getAll(){return tData},
  clear(){tData=[];localStorage.setItem('ap_training_log','[]');renderLog()}
};
loadLog();
</script>
</body>
</html>
